---
layout: post
status: publish
published: true
title: 我看辉哥打dota
author: Oneplus
author_login: oneplus
author_email: oneplus.lau@gmail.com
author_url: http://blog.oneplus.info
excerpt: ! "本文副标题为：浅析使用序列标注模型解决dota ai问题，-。-\r\n昨天，我去辉哥寝室玩。他那断网了，无聊在打dota的ai。当时王珑也在，一起吐槽ai弱智。忽然，王珑冒出一句“要是ai能学rep就牛B了”。\r\n我当时说，“要是没有内存什么的限制，ai应该也能学得挺牛的”。之所以这么说，因为我认为，ai的逻辑应该都是写在地图里的，而dota的ai地图大约只有7MB左右，应该写不了太多的逻辑。当然，这件事情我也没有详细去探究，所以可能认识是错误的。\r\n"
wordpress_id: 490
wordpress_url: http://blog.oneplus.info/?p=490
date: 2012-02-18 09:22:50.000000000 +08:00
categories:
- 不可控制
- 胡蒙胡诌和胡思乱想
tags:
- 人工智能
- 机器学习
- 序列标注
comments:
- id: 479
  author: darkgt
  author_email: darkgt@163.com
  author_url: http://www.darkgt.com
  date: !binary |-
    MjAxMi0wMi0xOCAxMTo0NDo0NiArMDgwMA==
  date_gmt: !binary |-
    MjAxMi0wMi0xOCAwMzo0NDo0NiArMDgwMA==
  content: ! "很久以前也想过这个问题，主要就是feature不是通用的\r\n首先是策略能解决很多问题，比如看到sk摇大要及时打断。\r\n再就是一些非即时性决策，我觉得用学习比较好，比如：出装，加点，选阵容\r\n但是涉及即时性决策就难一些，主要就是技能的释放和走位，可能要对每一个技能选不同的feature，比如牛头封路就比较特殊。高级一些的考虑对方技能cd，魔量，会有哪些对手支援，队友的技能配合\r\n最难的应该是对局势的判断，push、gank、打野、farm、打roshan，要考虑到\"局势\"和\"节奏\""
- id: 486
  author: shuang1104
  author_email: shuang1104min@gmail.com
  author_url: ''
  date: !binary |-
    MjAxMi0wMi0xOCAyMjo0NDowNSArMDgwMA==
  date_gmt: !binary |-
    MjAxMi0wMi0xOCAxNDo0NDowNSArMDgwMA==
  content: 有个可能比较有意思的~根据对方的角色算钱了算时间杀人~例如spec，打的时候观察下对方的补刀水平，一般来说到500的时候骚扰一下拖延回5出来的速度，出了回5后过3分钟要狠抓，抓不死也不能让他钱，让活力球出不来，这样拖延先锋出来的时间~这种AI应该很容易做到，因为钱数AI能直接知道的~~
- id: 491
  author: Wang Longlong
  author_email: wangllong@hit.edu.cn
  author_url: ''
  date: !binary |-
    MjAxMi0wMi0xOSAxMDoyMjowOCArMDgwMA==
  date_gmt: !binary |-
    MjAxMi0wMi0xOSAwMjoyMjowOCArMDgwMA==
  content: ! "。。\r\n个人理解：\r\n1.我觉得这个东西还是过于复杂，先不说ai，就让一个人去看rep，看完十个八个100个之后他能学到什么还是一个未知数。换句话说，就是学习的target太模糊，只能人工去指定一些简单的target，就像shuang1104说的限制sepc的方法，而这些简单的target又基本上都可以通过人工确定规则来解决，至于复杂的target，比如对局势的判断，如果双方进入僵持阶段，应不应该去打roshan（现在的ai都可以敲命令去roshan），如何防止对面打roshan等，这是判断都过于复杂，有时候在比赛中那些有经验的队长都会做出错误的判断，可见这些绝不是一些简单的feature综合就能学习出结果的，也就是darkgt说的feature并不通用。从现在的ai来看，学习提高最大的应该还是技能的衔接，一些基本case的处理，比如面对无控制的高输出或者强力nuke技能英雄，在无队友支援的情况下迅速tp，树林绕阴影等，这些都是相对容易学习的，这些也是现在的ai改变最大的地方。PS，其实个人觉得darkgt说的牛头封路这一类的问题倒不是很困难的问题，通过学习建立一个走位预测模型就可以了，当然是在你的“enough
    memory”的前提下。至于封路准不准，这个看一下人操作牛时候的失误率，对ai犯错的情况就可以谅解了。\r\n2.关于时间序列，我觉得这个除了push阵容，很难对其他战术有指导作用，因为在对局势的判断中，push阵容的战术最容易用时间轴刻画。而其他阵容对局势的判断依赖的特征向量维数太大太复杂，而且不确定性太高，时间轴的知道意义可能极其有限。\r\n3.对5个人建模还是对1个人建模的问题，个人觉得这不是一个矛盾，最好的做法就是团队和个人有自己单独的模型，这样会涉及到一个问题，就是如何解决两个模型中的决策冲突问题，比如一个carry
    ai 基于当前决策认为现在应该farm，而团队决策判断当前的最优选择是5人push，这样carry就出现了决策冲突的情况，当然冲突处理在实际的比赛中也是大量存在的，至于怎么处理，我想可以参考
    比赛队员的处理，关于这个我有个更加YY的想法，那就是AI的“个性”问题，一个可能的处理方法是，通过设定ai的“个性化”程度来选择更倾向于团队指令还是个人决策。\r\n当然这也是我个人看法，不见得切合实际。"
---
本文副标题为：浅析使用序列标注模型解决dota ai问题，-。-

昨天，我去辉哥寝室玩。他那断网了，无聊在打dota的ai。当时王珑也在，一起吐槽ai弱智。忽然，王珑冒出一句“要是ai能学rep就牛B了”。

我当时说，“要是没有内存什么的限制，ai应该也能学得挺牛的”。之所以这么说，因为我认为，ai的逻辑应该都是写在地图里的，而dota的ai地图大约只有7MB左右，应该写不了太多的逻辑。当然，这件事情我也没有详细去探究，所以可能认识是错误的。

今天早上，回想起昨天说的，要是没有内存、运算速度等方面的限制，ai能否通过学习rep变得很牛。因为最近一段时间我一直在做序列标注，就很囧地想到了序列标注。将有限的行为作为一种tag，将一局dota的某个英雄的时间序列切片，对于每个切片，抽取合适的特征，做一个线性的序列标注模型。而将Rep视作是一种人工的标注，用rep训练这个模型。最大熵，crf或者感知器一类的online算法都可以用。至于具体要用什么特征，类似于当前比分、物品、健康状态，其他英雄离自己的位置等等，都可以用来做特征。至于哪些特征具有较强的分类能力，哪些比较渣渣，大概还要看实验结果。

后来，我又想到，实际上游戏中英雄的行为应该不是一种简单的有关行为的时间序列，而是一种类似于状态机的东西。比方说正在放大招的潮汐，下一个时间切片应该还是放大招，而不是移动或者其他。那么是不是在模型解码的过程中加入状态机或者一些人工的规则，搞半指导。也许是个好办法吧。
再后来，就是对策的问题。比方说，见了DPS要开绿杖等等。这些行为貌似可以通过描述特征来学习到。
最后一项，前面提到的都是对于一个英雄建模，但是dota是一项团队运动，所以，我觉得更好的办法是对5个人建模，虽然tag集的大小和状态数量将会增加，但整体效果是提升的，至少我猜可以学出gank、push等等基本的打法吧。
纯YY，勿当真。那些从事游戏ai开发的工程师们，你们是如何设计ai的呢。

<div>============================================================</div>

下午的时候，又仔细想了一下，ai是不能完整的知道对方的行为序列，所以，决定对策的时间序列或许只有对线，交战等一少部分。全局的特征只能通过现有状态进行推理。

<a href="http://www.darkgt.com/">darkgt神牛</a>在博客中回复我说：“但是涉及即时性决策就难一些，主要就是技能的释放和走位，可能要对每一个技能选不同的feature，比如牛头封路就比较特殊。高级一些的考虑对方技能cd，魔量，会有哪些对手支援，队友的技能配合”，要想做得好，的确是个很难的问题。
